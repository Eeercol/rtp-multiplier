## Теоретическое обоснование

### 1. Что такое RTP
RTP (*Return To Player*) показывает, **какая доля от всех ставок возвращается игроку в среднем**.

Формально:
```
RTP = средний выигрыш / средняя ставка
```

По заданию ставка принимается равной `1` (нормализация). Значит, RTP = средний выигрыш.

---

### 2. Логика клиента
Клиент получает последовательность чисел `x ∈ [1, 10000]`. Для каждого `x` он делает запрос к сервису, чтобы получить мультипликатор `M`.

Правила такие:
- если `M ≤ x` → ставка проиграна, вклад в RTP = 0;
- если `M > x` → ставка выиграна, вклад в RTP = `M`.

После многих раундов RTP клиента считается так:
```
RTP = (сумма выигрышей) / (число ставок)
```

---

### 3. Вероятностная модель
Чтобы рассчитать средний RTP, нужно учесть распределение `x`. В условии задачи подразумевается, что `x` распределён равномерно:
```
x ~ Uniform[1, 10000]
```

Вероятность того, что мультипликатор `M` окажется больше, чем случайный `x`, равна:
```
P(M > x) = (M - 1) / 9999
```

Тогда ожидаемый выигрыш при фиксированном `M` равен:
```
E[win | M] = M * P(M > x) = M * (M - 1) / 9999
```

Теперь берём матожидание по самому `M`:
```
RTP = E[win] = (1 / 9999) * E[M(M - 1)]
```

RTP напрямую зависит от того, каким распределением мы генерируем мультипликатор `M`.

---

### 4. Требование задачи
Нужно построить распределение `M` так, чтобы:
```
E[M(M - 1)] = 9999 * rtp
```
где `rtp` — целевое значение, которое задаётся при запуске программы.

---

### 5. Какой генератор выбрать
Чтобы гарантировать выполнение условия, можно взять **двухточечное распределение (Бернулли)**:
- `M = 1` с вероятностью `(1 - p)`;
- `M = H` с вероятностью `p`.

В этом случае:
```
E[M(M - 1)] = p * H(H - 1)
```

Подставляем в условие:
```
p = (9999 * rtp) / (H(H - 1))
```

---

### 6. Почему именно H = 101
Чтобы вероятность `p` всегда была допустимой (в диапазоне `[0,1]`), нужно, чтобы:
```
H(H - 1) ≥ 9999
```
Минимальное значение — `H = 101`, так как:
```
101 * 100 = 10100 ≥ 9999
```

Значит, распределение такое:
- с вероятностью `p = (9999 * rtp) / 10100` → `M = 101`;
- иначе → `M = 1`.

---

### 7. Пример
Пусть `rtp = 0.95`.
```
p = (9999 * 0.95) / 10100 ≈ 0.940
```

То есть:
- в 94% случаев сервис вернёт `101.0`;
- в 6% случаев сервис вернёт `1.0`.

Если сгенерировать очень длинную последовательность (например, 100 000 раундов), то средний RTP будет стремиться к `0.95`.



